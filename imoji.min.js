var Imoji=new function(){this.element=$(".imoji-picker");this.input=null;this.emojis=null;this.init=function(b){var e={emojis:"emoji.json"};b=$.extend(e,b);var a=require(b.emojis);Imoji.emojis={};var d=0;while(d++<a.length){var c=a[d].category;if(typeof Imoji.emojis[c]=="undefined"){Imoji.emojis[c]=[]}Imoji.emojis[c].push(a[d])}Imoji.create();$("[data-imoji]").click(function(){Imoji.input=$(this).closest("input");Imoji.open()});$(".imoji-picker--emojis-emoji").click(function(){$.each(Imoji.emojis,function(g,f){var h=$.grep(f,function(i){return i.aliases[0]==$(this).attr("id").replace("imoji-emojis--","")})});Imoji.select(emoji)});$(document).on("imoji:select",function(f,g){if(Imoji.input!=null){Imoji.updateInput(g.emoji)}})};this.create=function(){var b=$(".imoji-picker--emojis");var a=$(".imoji-picker--categories");$.each(Imoji.emojis,function(e,d){a.append('<div class="imoji-picker--categories-category" id="imoji-categories-footer--'+e+'">'+d[0].emoji+"</div>");b.append('<div class="imoji-picker--emojis-category" id="imoji-categories--'+e+'"><h6>'+e+"</h6></div>");var c=b.find("#imoji-categories--"+e);$.each(d,function(f,g){c.append('<div class="imoji-picker--emojis-emoji" id="imoji-emojis--'+g.aliases[0]+'">'+g.emoji+"</div>")})})};this.open=function(){$(document).trigger("imoji:open");$("body").addClass("imoji--open")};this.close=function(){$(document).trigger("imoji:close");$("body").removeClass("imoji--open")};this.select=function(a){$(document).trigger("imoji:select",[a])};this.updateInput=function(a){$(Imoji.input).val($(Imoji.input).val()+a)}};