var Imoji=new function(){this.element=$(".imoji-picker");this.input=null;this.emojis={};this.init=function(a){var b={emojis:"emoji.json",input:null};a=$.extend(b,a);Imoji.input=a.input;$.getJSON("https://raw.githubusercontent.com/github/gemoji/master/db/emoji.json",function(e){var d=0;while(d++<e.length){if(typeof e[d]!="undefined"&&e[d].hasOwnProperty("category")){var c=e[d].category;if(typeof Imoji.emojis[c]=="undefined"){Imoji.emojis[c]=[]}Imoji.emojis[c].push(e[d])}}Imoji.create()});$("[data-imoji]").click(function(){if(Imoji.input!=false){Imoji.input=$(this).closest("input")}Imoji.open()});$(".imoji-picker--emojis-emoji").click(function(){$.each(Imoji.emojis,function(d,c){var e=$.grep(c,function(f){return f.aliases[0]==$(this).attr("id").replace("imoji-emojis--","")})});Imoji.select(emoji)});$(".imoji-picker--search-trigger").click(function(){if($(".imoji-picker").hasClass("searching")){Imoji.hideSearch()}else{Imoji.showSearch()}});$(".imoji-picker--delete").click(function(){Imoji.deleteFromInput()});$(".imoji-picker--search-delete").click(function(){$("input.imoji-picker--search-input").val("")});$(document).on("imoji:select",function(c,d){if($(Imoji.input).length>0){Imoji.updateInput(d.emoji)}})};this.create=function(){if($(Imoji.input).length>0){$(".imoji-picker--delete").css("display","block")}else{$(".imoji-picker--delete").css("display","none")}var b=$(".imoji-picker--emojis");var a=$(".imoji-picker--categories");$.each(Imoji.emojis,function(e,d){a.append('<div class="imoji-picker--categories-category imoji-icon" id="imoji-categories-footer--'+e+'">'+d[0].emoji+"</div>");b.append('<div class="imoji-picker--emojis-category" id="imoji-categories--'+e+'"><h6>'+e+"</h6></div>");var c=b.find("#imoji-categories--"+e);$.each(d,function(f,g){c.append('<div class="imoji-picker--emojis-emoji imoji-icon imoji-icon--sm" id="imoji-emojis--'+g.aliases[0]+'">'+g.emoji+"</div>")})})};this.open=function(){$(document).trigger("imoji:open");if($(Imoji.input).length>0){$(Imoji.element).focus()}$("body").addClass("imoji--open")};this.close=function(){$(document).trigger("imoji:close");$("body").removeClass("imoji--open")};this.select=function(a){$(document).trigger("imoji:select",[a])};this.updateInput=function(a){$(Imoji.input).val($(Imoji.input).val()+a)};this.deleteFromInput=function(){$(Imoji.input).val($(Imoji.input).val().slice(0,-1))};this.showSearch=function(){$(".imoji-picker--emojis").animate({marginTop:"50px"},250,function(){$(".imoji-picker").addClass("searching");$(".imoji-picker--emojis").css("marginTop","0")})};this.hideSearch=function(){$(".imoji-picker").removeClass("searching");$(".imoji-picker--emojis").css("marginTop","50px");$(".imoji-picker--emojis").animate({marginTop:"0"},250)}};